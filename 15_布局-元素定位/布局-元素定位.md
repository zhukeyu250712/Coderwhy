# 布局-元素定位

## 一、标准流布局

### 1、标准流（Normal Flow）

* 默认情况下，元素都是按照normal flow（标准流、常规流、正常流、文档流【document flow】）进行排布
	* 从左到右、从上到下按顺序摆放好
	* 默认情况下，互相之间不存在层叠现象

![image-20230723214922696](../../../Coderwhy/pic/image-20230723214922696.png)

![image-20230723214911854](../../../Coderwhy/pic/image-20230723214911854.png)



### 2、margin-padding位置调整

* 在标准流中，可以使用margin、padding对元素进行定位
	* 其中margin还可以设置负数

* 比较明显的缺点是
	* 设置一个元素的margin或者padding，通常会影响到标准流中其他元素的定位效果
	* 不便于实现元素层叠的效果

* 如果我们希望一个元素可以跳出标准量,单独的对某个元素进行定位呢?
	* 我们可以通过position属性来进行设置;



### 3、认识元素的定位

* 定位允许您从正常的文档流布局中取出元素，并使它们具有不同的行为:
	* 例如放在另一个元素的上面;
	* 或者始终保持在浏览器视窗内的同一位置;

* 定位在开发中非常常见:

![image-20230723215204406](../../../Coderwhy/pic/image-20230723215204406.png)



### 4、认识position属性

* 利用position可以对元素进行定位，常用取值有5个:

![image-20230723215246742](../../../Coderwhy/pic/image-20230723215246742.png)

* 默认值:
	* static：默认值, 静态定位

* 使用下面的值, 可以让元素变成 定位元素(positioned element)
	* relative：相对定位
	* absolute：绝对定位
	* fixed：固定定位
	* sticky：粘性定位



### 5、静态定位 - static

* position属性的默认值
	* 元素按照normal flow布局
	* left 、right、top、bottom没有任何作用

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .box {
      display: inline-block;
      /* 默认值 */
      position: static;
    }
  </style>

</head>
<body>
  
  <div>div元素</div>
  <span>span元素</span>
  <img src="../images/gouwujie01.jpg" alt="">
  <div class="box">box的div</div>

</body>
</html>
```



## 二、相对定位

### 1、相对定位

绝对定位是相对于最近的一个定位元素

* 元素按照normal flow布局

* 可以通过left、right、top、bottom进行定位
	* 定位参照对象是元素自己原来的位置

* left、right、top、bottom用来设置元素的具体位置，对元素的作用如下图所示
* 相对定位的应用场景
	* 在不影响其他元素位置的前提下，对当前元素位置进行微调

![image-20230723221107896](../../../Coderwhy/pic/image-20230723221107896.png)

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .text {
      margin-left: 30px;
      /*相对定位*/
      position: relative;
      /* left: 30px;
      top: 50px; */
      /* left: -30px;
      top: -50px; */
      bottom: 50px;
      right: 30px;
    }
  </style>
</head>
<body>
  
  <span>我是span元素</span>
  <strong class="text">我是strong元素</strong>
  <img src="../images/kobe01.jpg" alt="">
  <div>我是div元素</div>

</body>
</html>
```

![image-20230723221206478](../../../Coderwhy/pic/image-20230723221206478.png)



### 2、相对定位练习

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    div {
      font-size: 20px;
    }
    span {
      font-size: 12px;
      position: relative;
      bottom: 8px;
    }
  </style>
</head>
<body>
  
  <div>
    3的二次方+2的三次方 = 数值 <br>
    3<span>2</span> + 2<span>3</span> = 17
  </div>

</body>
</html>
```

![image-20230723221952565](../../../Coderwhy/pic/image-20230723221952565.png)

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    body {
      margin: 0;
      padding: 0;
    }

    .box {
      height: 489px;
      background-color: red;
      background: url(../images/mhxy.jpg) center;
    }

  </style>

</head>
<body>
  
  <div class="box"></div>

</body>
</html>
```

![image-20230723223807446](../../../Coderwhy/pic/image-20230723223807446.png)

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    body {
      margin: 0;
      padding: 0;
    }

    .box {
      height: 489px;
      background-color: red;
      overflow: hidden;
    }

    .box img {
      position: relative;
      /* 1、left:先img向左移动img一半 */
      /* left: -960px; */
      /* translate中的百分比是相对于自己 */
      transform: translate(-50%);

      /* 2、再img向右移动div的一半 */
      /* 百分比是相对于包含块的50% */
      margin-left: 50%;
    }
  </style>

</head>
<body>
  
  <div class="box">
    <img src="../images/mhxy.jpg" alt="">
  </div>

</body>
</html>
```

拉伸之后图片的显示是一直基于center拉伸的

![image-20230723223913066](../../../Coderwhy/pic/image-20230723223913066.png)



## 三、固定定位

### 1、固定定位 - fixed

* 元素脱离normal flow（脱离标准流、脱标）

* 可以通过 left、right、top、bottom进行定位

* 定位参照对象是视口（viewport）

* 当画布滚动时，固定不动



### 2、画布和视口

* 视口（Viewport）
	* 文档的可视区域
	* 如右图红框所示

* 画布（Canvas）
	* 用于渲染文档的区域
	* 文档内容超出视口范围，可以通过滚动查看
	* 如右图黑框所示

* 宽高对比
	* 画布 >= 视口

![image-20230724201028598](../../../Coderwhy/pic/image-20230724201028598.png)

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .text {
      position: fixed;
      /*left bottom right top是相对于用户的可视区域*/
      left: 0;
      top: 0;
    }
  </style>

</head>
<body>
  
  <span>我是span元素</span>
  <strong class="text">我是strong元素</strong>
  <img src="../images/kobe01.jpg" alt="">
  <div>我是div元素</div>

</body>
</html>
```

strong元素的内容在fixed的时候被单独拿出来了

![image-20230724200147612](../../../Coderwhy/pic/image-20230724200147612.png)

### 3、固定定位练习

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .handle {
      position: fixed;
      right: 30px;
      bottom: 30px;
    }

    .handle .item {
      width: 80px;
      height: 40px;
      text-align: center;
      line-height: 40px;
      background-color: brown;
      border-radius: 8px;
      cursor: pointer;
    }

    .handle .item:hover {
      background-color: red;
    }

    .top {
      margin-bottom: 10px;
    }

  </style>

</head>
<body>
  
  <div class="handle">
    <div class="item top">顶部</div>
    <div class="item bottom">反馈</div>
  </div>

</body>
</html>
```

![image-20230724201955461](../../../Coderwhy/pic/image-20230724201955461.png)



## 四、绝对定位 

### 1、绝对定位 - absolute

* 元素脱离normal flow（脱离标准流、脱标）

* 可以通过left、right、top、bottom进行定位
	* 定位参照对象是最邻近的定位祖先元素
	* 如果找不到这样的祖先元素，参照对象是视口

* 定位元素（positioned element）
	* position值不为static的元素
	* 也就是position值为relative、absolute、fixed的元素

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>

    .container {
      /* 脱离标准版 */
      /* position: fixed; */
      width: 1000px;
      height: 800px;
      background-color: red;

      position: relative;
      top: 0;
    }

    .box {
      /* 定位参照对象是最邻近的定位祖先元素 */
      /* 如果没有定位则不起作用 */
      width: 800px;
      height: 600px;
      background-color: green;

      position: relative;
    }

    strong {
      /* 脱离标准版 */
      position: absolute;
      /* 最邻近的定位祖先元素,最后代码找到.box对应的div 也就是相对于绿色部分 */

      /* 设置的四个值 */
      /* 在没有祖先元素定位的情况下，相对于的是谁？视口 */
      right: 0;
      top: 0;
    }

    img {
      width: 100px;
      height: 100px;
    }
  </style>

</head>
<body>
  <div>哈哈哈哈</div>
  <div class="container">
    <div class="box">
      <span>我是span元素</span>
      <strong>我是strong元素</strong>
      <img src="../images/gouwujie01.jpg" alt="">
      <div>我是div元素</div>
    </div>
  </div>
  <div>呵呵呵呵</div>
  
</body>
</html>
```

![image-20230724212817311](../../../Coderwhy/pic/image-20230724212817311.png)

![image-20230724213115860](../../../Coderwhy/pic/image-20230724213115860.png)



### 2、子绝父相

* 在绝大数情况下，子元素的绝对定位都是相对于父元素进行定位

* 如果希望子元素相对于父元素进行定位，又不希望父元素脱标，常用解决方案是：
	* 父元素设置position: relative（让父元素成为定位元素，而且父元素不脱离标准流）
	* 子元素设置position: absolute
	* 简称为“子绝父相”

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .container {
      width: 800px;
      height: 800px;
      background-color: red;

      position: relative;
    }
    /*子 box 绝对定位，父 container 相对定位：子绝父相*/
    .box {
      width: 500px;
      height: 500px;
      background-color: green;

      position: absolute;
      right: 0;
      bottom: 0;
    }
    /*子strong绝对定位，父box绝对定位：子绝父绝*/
    strong {
      position: absolute;
      left: 0;
      bottom: 0;
    }

    img {
      width: 100px;
    }
  </style>

</head>
<body>

  <div class="container">
    <div class="box">
      <span>我是span元素</span>
      <strong>我是strong元素</strong>
      <img src="../images/gouwujie01.jpg" alt="">
      <div>我是div元素</div>
    </div>
  </div>

</body>
</html>
```

![image-20230724214350013](../../../Coderwhy/pic/image-20230724214350013.png)

### 3、将position设置为absolute/fixed元素的特点(一)

* 可以随意设置宽高

* 宽高默认由内容决定

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .container {
      width: 800px;
      height: 800px;
      background-color: red;

      position: relative;
    }
    /*子 box 绝对定位，父 container 相对定位：子绝父相*/
    .box {
      width: 500px;
      height: 500px;
      background-color: green;

      position: absolute;
      right: 0;
      bottom: 0;
    }
    /*子strong绝对定位，父box绝对定位：子绝父绝*/
    strong {
      position: absolute;
      left: 0;
      bottom: 0;
      background-color: blue;
      color: #fff;
      /* 行内非替换元素，这里可以任意设置宽高 */
      width: 200px;
      height: 60px;

    }

    img {
      width: 100px;
    }
  </style>

</head>
<body>

  <div class="container">
    <div class="box">
      <span>我是span元素</span>
      <strong>我是strong元素</strong>
      <img src="../images/gouwujie01.jpg" alt="">
      <div>我是div元素</div>
    </div>
  </div>

</body>
</html>
```

![image-20230724220032057](../../../Coderwhy/pic/image-20230724220032057.png)

* 不再受标准流的约束
	* 不再严格按照从上到下、从左到右排布
	* 不再严格区分块级(block)、行内级(inline)，行内块级(inline-block)的很多特性都会消失

* 不再给父元素汇报宽高数据

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .box {
      background-color: red;
    }

    /* strong脱标了，没有box的背景颜色，不再给父元素汇报宽高数据 */
    .box strong {
      position:absolute;
    }
  </style>

</head>
<body>
  
  <div class="box">
    <strong>我是strong元素</strong>
  </div>

</body>
</html>
```

![image-20230724220523982](../../../Coderwhy/pic/image-20230724220523982.png)

* 脱标元素内部默认还是按照标准流布局

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .box {
      background-color: red;
    }

     /* strong脱标了，没有box的背景颜色，不再给父元素汇报宽高数据 */
    .box strong {
      position:absolute;
      width: 200px;
      height: 200px;
      background-color: #0f0;
    }
  </style>

</head>
<body>
  
  <div class="box">
    <strong>
      <!-- 脱标元素内部默认还是按照标准流布局，strong的子元素还是按照原来的布局来 -->
      <span>我是strong元素</span>
      <i>我是i元素</i>
    </strong>
  </div>

</body>
</html>
```

![image-20230724220913467](../../../Coderwhy/pic/image-20230724220913467.png)



### 4、将position设置为absolute/fixed元素的特点(二)

* 绝对定位元素（absolutely positioned element）
	* position值为absolute或者fixed的元素

* 对于绝对定位元素来说
	* 定位参照对象的宽度 = left + right + margin-left + margin-right + 绝对定位元素的实际占用宽度
	* 定位参照对象的高度 = top + bottom + margin-top + margin-bottom + 绝对定位元素的实际占用高度

* 如果希望绝对定位元素的宽高和定位参照对象一样，可以给绝对定位元素设置以下属性
	* left: 0、right: 0、top: 0、bottom: 0、margin:0

* 如果希望绝对定位元素在定位参照对象中居中显示，可以给绝对定位元素设置以下属性
	* **left: 0、right: 0、top: 0、bottom: 0、margin: auto**
	* 另外，还得设置具体的宽高值（宽高小于定位参照对象的宽高）

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .box {
      width: 800px;
      height: 300px;
      background-color: red;
      position: relative;
    }

    /* 兼容性问题 */
    /* 
    red box width = green box width + left + right +margin-left+margin-right 
    800 = auto + 0 + 0 + 0 + 0
    */
    .container {
      height: 100px;
      background-color: #0f0;

      /* 800=200 + 0 + 0 + 0 + 0 width设置为200的时候*/
      width: 200px;
      position: absolute;
      left: 0;
      /* width: 100%; */
      top: 0;
      right: 0;
      bottom: 0;
      margin: auto;

      /* 水平居中 */
      /* margin: 0 auto; */
    }
  </style>

</head>
<body>
  
  <div class="box">
    <div class="container"></div>
  </div>

</body>
</html>
```

![image-20230724223913310](../../../Coderwhy/pic/image-20230724223913310.png)



### 5、auto到底是什么?

* 800 = 200 + ml0 + mr0 + 0 + 0

* auto -> 交给浏览器你来出来

* width: auto;
* 1.行内非替换元素 -> width: 包裹内容

* 2.块级元素 ->width: 包含块的宽度

* 3.绝对定位元素 -> width: 包裹内容





## 五、粘性定位



## 六、z-index 